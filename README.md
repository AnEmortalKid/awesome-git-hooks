# git-hooks
How to use git hooks - resources and examples.

## What are git hooks?
> "Like many other Version Control Systems, Git has a way to fire off custom scripts when certain important actions occur. There are two groups of these hooks: client-side and server-side. Client-side hooks are triggered by operations such as committing and merging, while server-side hooks run on network operations such as receiving pushed commits. You can use these hooks for all sorts of reasons." - [git-scm.com](https://git-scm.com/book/en/v2/Customizing-Git-Git-Hooks)

## How to Use
1. Clone and download this repo if you want to test out a sample before using it on your own project. Otherwise, pick whichever project you have that you want to start using git hooks on.
2. Choose a sample to use. The "verify-name-and-email" sample is a friendly one to try first.
3. Navigate to the git hooks folder (.git/hooks) in the project.
4. Create a new file with the commit type as the file name (eg: commit-msg, pre-rebase, update, etc.). Do not include an extension. (So if trying out the "verify-name-and-email" sample, create a file called "pre-commit")
5. Open the new file and paste the code from whatever sample you want to use. (eg: [verify-name-and-email.sample](https://github.com/CompSciLauren/git-hooks/blob/master/src/pre-commit-samples/verify-name-and-email.sample))
6. Save file. Done! Now the git hook will be triggered by whatever event should cause it. (So with "verify-name-and-email", if you try to make a commit when your user.name or user.email in your git config doesn't match the name or email you specified in the git hook, it will fail the commit)

## Overview of Samples
This repo contains the following samples:

**_commit-msg samples_**
- **enforce-insert-issue-number:** Make sure user did not delete the ISSUE-[#] string that was generated by prepare-commit-msg/insert-issue-number.sample

**_post-checkout samples_**
- **delete-pyc-files:** delete all .pyc files every time a new branch is checked out

**_pre-commit samples_**
- **format-code:** Run command to format code and re-add any files modified after formatting
- **search-term:** Fail commit if a specific term is found in the code
- **verify-name-and-email:** Fail commit if user.name or user.email is incorrect

**_prepare-commit-msg samples_**
- **insert-issue-number:** Insert issue number to beginning of the commit message

**_default samples_**

Samples that are automatically generated in .git/hooks
- **applypatch-msg:** check the commit log message taken by applypatch from an e-mail message
- **commit-msg:** check the commit log message to catch duplicate Signed-off-by lines
- **fsmonitor-watchman:** output to stdout all files that have been modified since a given time
- **post-update:** prepare a packed repository for use over dumb transports
- **pre-applypatch:** verify what is about to be committed by applypatch from an e-mail message
- **pre-commit:** verify what is about to be committed
- **pre-push:** prevent push of commits where the log message starts with "WIP" (work in progress)
- **pre-rebase:** prevent topic branches that are already merged to 'next' branch from getting rebased, because allowing it would result in rebasing already published history
- **pre-receive:** echo all push options that start with 'echoback=' and reject all pushes when the "reject" push option is used
- **prepare-commit-msg:**
    - remove the "# Please enter the commit message..." help message
    - include the output of "git diff --name-status -r" into the message, just before the "git status" output
    - add a Signed-off-by line to the message, that can still be edited (this is rarely a good idea)
- **update:** block unannotated tags from entering

## Helpful Hints
You can bypass pre-commit hooks by adding `--no-verify` to the end of your `git commit` command

## Resources
Below are a variety of helpful resources on how git hooks work.

### Documentation
[Git hooks documentation at git-scm.com](https://git-scm.com/docs/githooks)

### Video
[Git hooks and practical uses. Yes, even on Windows.](http://www.youtube.com/watch?feature=player_embedded&v=fMYv6-SZsSo&t=240s)

### Articles
[An Introduction to Git Hooks](https://www.sitepoint.com/introduction-git-hooks/)

[Git hooks and practical uses. Yes, even on Windows.](https://www.tygertec.com/git-hooks-practical-uses-windows/)

[Easy git hooks with husky](https://www.vojtechruzicka.com/githooks-husky/)

[Git Hooked](https://www.javascriptjanuary.com/blog/git-hooked "Git Hooked")

[Automate Your Workflow with Git Hooks](https://hackernoon.com/automate-your-workflow-with-git-hooks-fef5d9b2a58c)

[Using JavaScript in Your Git Hooks](https://medium.com/@Sergeon/using-javascript-in-your-git-hooks-f0ce09477334 "Using JavaScript in Your Git Hooks")

[An In-Depth Look at Git Hooks](https://dzone.com/articles/an-in-depth-look-at-git-hooks)

### Book
[Git Pro by Scott Chacon and Ben Straub](https://git-scm.com/book/en/v2)
